<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Smart Biopsy Needle: /home/redtrek/NTM/ntm_needle_biopsy/code/biopsy_needle/src/main.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Smart Biopsy Needle<span id="projectnumber">&#160;v1.0</span>
   </div>
   <div id="projectbrief">The smart biopsy needle is a aspiration-assisted motor-driven device intended for cancer diagnostic research in the Nontraditional Manufacturing Lab of the University of Florida.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This is the main file for the smart biopsy needle. It handles the high level operation of the state machine, sensors, motors, and display. If onboarding, LOOK AT THIS FILE FIRST. Close all pragma regions and just try to understand the main function.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="ntm__helpers_8h_source.html">include/ntm_helpers.h</a>&quot;</code><br />
<code>#include &quot;../libs/INA219/INA219.h&quot;</code><br />
<code>#include &quot;../libs/SSD1306/ssd1306.h&quot;</code><br />
<code>#include &quot;../libs/FX29/fx29.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="main_8cpp__incl.png" border="0" usemap="#a_2home_2redtrek_2NTM_2ntm__needle__biopsy_2code_2biopsy__needle_2src_2main_8cpp" alt=""/></div>
<map name="a_2home_2redtrek_2NTM_2ntm__needle__biopsy_2code_2biopsy__needle_2src_2main_8cpp" id="a_2home_2redtrek_2NTM_2ntm__needle__biopsy_2code_2biopsy__needle_2src_2main_8cpp">
<area shape="rect" title="This is the main file for the smart biopsy needle. It handles the high level operation of the state m..." alt="" coords="1803,5,2009,60"/>
<area shape="rect" href="ntm__helpers_8h.html" title="This file holds the prototypes for smart needle&#39;s helper functions." alt="" coords="1528,108,1695,133"/>
<area shape="poly" title=" " alt="" coords="1817,63,1664,107,1663,102,1815,58"/>
<area shape="rect" title=" " alt="" coords="1719,108,1890,133"/>
<area shape="poly" title=" " alt="" coords="1877,62,1830,101,1827,97,1873,58"/>
<area shape="rect" title=" " alt="" coords="1914,108,2103,133"/>
<area shape="poly" title=" " alt="" coords="1939,58,1986,97,1983,101,1936,62"/>
<area shape="rect" title=" " alt="" coords="2127,108,2266,133"/>
<area shape="poly" title=" " alt="" coords="1996,58,2146,102,2144,107,1994,63"/>
<area shape="rect" href="pins_8h.html" title="This file handles the pin definitions for the device dependent on the selected platform (PCB or Bread..." alt="" coords="718,189,779,214"/>
<area shape="poly" title=" " alt="" coords="1528,132,793,199,793,193,1528,127"/>
<area shape="rect" title=" " alt="" coords="1093,269,1194,295"/>
<area shape="poly" title=" " alt="" coords="1528,129,1442,135,1348,146,1264,162,1231,172,1207,184,1189,199,1174,218,1154,258,1149,255,1170,215,1185,195,1205,179,1229,167,1263,157,1347,141,1441,130,1528,123"/>
<area shape="rect" title=" " alt="" coords="1219,269,1289,295"/>
<area shape="poly" title=" " alt="" coords="1528,125,1442,129,1351,139,1271,156,1242,168,1223,183,1215,200,1217,219,1226,239,1237,257,1233,259,1221,241,1212,220,1210,199,1219,180,1239,164,1270,151,1350,133,1442,124,1528,120"/>
<area shape="rect" href="config_8h.html" title="This holds the macros for I2C device addresses, general debug and timing values, control abstractions..." alt="" coords="1232,189,1305,214"/>
<area shape="poly" title=" " alt="" coords="1539,136,1434,156,1319,184,1310,187,1308,181,1317,179,1433,151,1538,131"/>
<area shape="rect" title=" " alt="" coords="1330,189,1410,214"/>
<area shape="poly" title=" " alt="" coords="1574,136,1423,184,1415,186,1413,181,1421,179,1573,131"/>
<area shape="rect" title=" " alt="" coords="1434,189,1493,214"/>
<area shape="poly" title=" " alt="" coords="1591,136,1499,184,1496,180,1588,131"/>
<area shape="rect" title=" " alt="" coords="1517,189,1583,214"/>
<area shape="poly" title=" " alt="" coords="1604,135,1569,180,1565,176,1600,132"/>
<area shape="rect" title=" " alt="" coords="1607,181,1738,221"/>
<area shape="poly" title=" " alt="" coords="1622,132,1651,169,1647,172,1618,135"/>
<area shape="rect" title=" " alt="" coords="1762,189,1861,214"/>
<area shape="poly" title=" " alt="" coords="1641,131,1770,181,1768,186,1639,136"/>
<area shape="rect" title=" " alt="" coords="1885,189,1951,214"/>
<area shape="poly" title=" " alt="" coords="1676,131,1770,151,1873,179,1880,181,1879,186,1872,184,1768,156,1674,136"/>
<area shape="rect" title=" " alt="" coords="1975,189,2018,214"/>
<area shape="poly" title=" " alt="" coords="1695,130,1844,152,1914,166,1964,179,1968,180,1966,185,1963,184,1913,171,1844,158,1694,135"/>
<area shape="rect" title=" " alt="" coords="2042,189,2141,214"/>
<area shape="poly" title=" " alt="" coords="1695,130,1878,154,2031,179,2045,182,2043,187,2029,184,1877,159,1694,135"/>
<area shape="rect" title=" " alt="" coords="2165,189,2228,214"/>
<area shape="poly" title=" " alt="" coords="1695,129,1708,131,1833,141,1932,144,2030,153,2153,179,2161,181,2160,186,2152,184,2029,158,1932,150,1833,146,1707,136,1695,135"/>
<area shape="rect" href="tusb__config_8h_source.html" title=" " alt="" coords="2252,189,2360,214"/>
<area shape="poly" title=" " alt="" coords="1695,129,1708,131,1858,142,1975,148,2092,156,2241,179,2258,182,2257,188,2240,184,2092,162,1975,153,1857,148,1707,136,1695,135"/>
<area shape="rect" title=" " alt="" coords="170,269,293,295"/>
<area shape="poly" title=" " alt="" coords="718,210,307,272,306,266,718,205"/>
<area shape="rect" title=" " alt="" coords="317,269,447,295"/>
<area shape="poly" title=" " alt="" coords="718,212,449,269,448,264,717,207"/>
<area shape="rect" title=" " alt="" coords="472,269,588,295"/>
<area shape="poly" title=" " alt="" coords="719,216,576,267,574,262,717,211"/>
<area shape="rect" title=" " alt="" coords="613,269,738,295"/>
<area shape="poly" title=" " alt="" coords="740,216,698,261,694,257,736,212"/>
<area shape="rect" title=" " alt="" coords="763,269,881,295"/>
<area shape="poly" title=" " alt="" coords="761,212,804,257,800,261,758,216"/>
<area shape="rect" title=" " alt="" coords="906,269,1069,295"/>
<area shape="poly" title=" " alt="" coords="780,210,941,263,939,268,779,215"/>
<area shape="rect" title=" " alt="" coords="5,269,145,295"/>
<area shape="poly" title=" " alt="" coords="718,209,159,272,159,267,718,203"/>
<area shape="poly" title=" " alt="" coords="780,206,1080,265,1079,271,779,211"/>
<area shape="poly" title=" " alt="" coords="780,204,957,227,1206,267,1205,272,956,232,780,209"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6af9f0d27369b3f4a063f61c51c198f3" id="r_a6af9f0d27369b3f4a063f61c51c198f3"><td class="memItemLeft" align="right" valign="top"><a id="a6af9f0d27369b3f4a063f61c51c198f3" name="a6af9f0d27369b3f4a063f61c51c198f3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAF_SZ</b>&#160;&#160;&#160;5</td></tr>
<tr class="memdesc:a6af9f0d27369b3f4a063f61c51c198f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Window size for Moving Average Filter. <br /></td></tr>
<tr class="separator:a6af9f0d27369b3f4a063f61c51c198f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9400840ebc875d8e59c484e65a643b77" id="r_a9400840ebc875d8e59c484e65a643b77"><td class="memItemLeft" align="right" valign="top"><a id="a9400840ebc875d8e59c484e65a643b77" name="a9400840ebc875d8e59c484e65a643b77"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LP_ALPHA</b>&#160;&#160;&#160;0.1f</td></tr>
<tr class="memdesc:a9400840ebc875d8e59c484e65a643b77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smoothing factor for LP Filter. <br /></td></tr>
<tr class="separator:a9400840ebc875d8e59c484e65a643b77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aa19be6305a5a4485e1e70de70ed7d677" id="r_aa19be6305a5a4485e1e70de70ed7d677"><td class="memItemLeft" align="right" valign="top"><a id="aa19be6305a5a4485e1e70de70ed7d677" name="aa19be6305a5a4485e1e70de70ed7d677"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>states</b> { <br />
&#160;&#160;<b>WAIT</b>
, <b>STANDBY</b>
, <b>CUTTING</b>
, <b>REMOVAL</b>
, <br />
&#160;&#160;<b>EXITING</b>
, <b>FINISH</b>
, <b>ZERO</b>
<br />
 }</td></tr>
<tr class="separator:aa19be6305a5a4485e1e70de70ed7d677"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8c50659733df2acac1580d209db8e97f" id="r_a8c50659733df2acac1580d209db8e97f"><td class="memItemLeft" align="right" valign="top"><a id="a8c50659733df2acac1580d209db8e97f" name="a8c50659733df2acac1580d209db8e97f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>oled_init</b> ()</td></tr>
<tr class="memdesc:a8c50659733df2acac1580d209db8e97f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the 128x64 OLED display and communication via I2C connections. <br /></td></tr>
<tr class="separator:a8c50659733df2acac1580d209db8e97f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77605eb86157d0b0194fc72a25738a22" id="r_a77605eb86157d0b0194fc72a25738a22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a77605eb86157d0b0194fc72a25738a22">displayInputSpeed</a> (int y_pos)</td></tr>
<tr class="memdesc:a77605eb86157d0b0194fc72a25738a22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function used to abstract how potentiometer input information is shown on the OLED screen.  <br /></td></tr>
<tr class="separator:a77605eb86157d0b0194fc72a25738a22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ea220abd9e6d180734b3b2bc0750f89" id="r_a9ea220abd9e6d180734b3b2bc0750f89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a9ea220abd9e6d180734b3b2bc0750f89">displayBat</a> (int y_pos)</td></tr>
<tr class="memdesc:a9ea220abd9e6d180734b3b2bc0750f89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function used to display calculated battery capacity value on OLED.  <br /></td></tr>
<tr class="separator:a9ea220abd9e6d180734b3b2bc0750f89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac59ebf0340587075ef7d1fc943c78408" id="r_ac59ebf0340587075ef7d1fc943c78408"><td class="memItemLeft" align="right" valign="top"><a id="ac59ebf0340587075ef7d1fc943c78408" name="ac59ebf0340587075ef7d1fc943c78408"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>displayState</b> ()</td></tr>
<tr class="memdesc:ac59ebf0340587075ef7d1fc943c78408"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the order of information, titles, and instructions shown on the OLED display by state in FSM. <br /></td></tr>
<tr class="separator:ac59ebf0340587075ef7d1fc943c78408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7c42980e08859e81090559d51a512b0" id="r_ac7c42980e08859e81090559d51a512b0"><td class="memItemLeft" align="right" valign="top"><a id="ac7c42980e08859e81090559d51a512b0" name="ac7c42980e08859e81090559d51a512b0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>handleButton</b> ()</td></tr>
<tr class="separator:ac7c42980e08859e81090559d51a512b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2e93a7266c27d56845381cb2076d391" id="r_ae2e93a7266c27d56845381cb2076d391"><td class="memItemLeft" align="right" valign="top"><a id="ae2e93a7266c27d56845381cb2076d391" name="ae2e93a7266c27d56845381cb2076d391"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>handleRelease</b> ()</td></tr>
<tr class="separator:ae2e93a7266c27d56845381cb2076d391"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4acf41dad5576bfc9ced017baa2bf524" id="r_a4acf41dad5576bfc9ced017baa2bf524"><td class="memItemLeft" align="right" valign="top"><a id="a4acf41dad5576bfc9ced017baa2bf524" name="a4acf41dad5576bfc9ced017baa2bf524"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>handleMSCButton</b> ()</td></tr>
<tr class="separator:a4acf41dad5576bfc9ced017baa2bf524"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ab132489f70371e1c876ba54e9d7011" id="r_a5ab132489f70371e1c876ba54e9d7011"><td class="memItemLeft" align="right" valign="top"><a id="a5ab132489f70371e1c876ba54e9d7011" name="a5ab132489f70371e1c876ba54e9d7011"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>createDataFile</b> ()</td></tr>
<tr class="memdesc:a5ab132489f70371e1c876ba54e9d7011"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates/writes datalog to the microSD via FatFS implementation. Writes the header of the file if successful and names the file by order of creation. <br /></td></tr>
<tr class="separator:a5ab132489f70371e1c876ba54e9d7011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7e37f59651692a7089d2b8ed312c7d3" id="r_af7e37f59651692a7089d2b8ed312c7d3"><td class="memItemLeft" align="right" valign="top"><a id="af7e37f59651692a7089d2b8ed312c7d3" name="af7e37f59651692a7089d2b8ed312c7d3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>resetFiltering</b> ()</td></tr>
<tr class="separator:af7e37f59651692a7089d2b8ed312c7d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14b5f26e2ea4e4c247dc26ea786e9b11" id="r_a14b5f26e2ea4e4c247dc26ea786e9b11"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a14b5f26e2ea4e4c247dc26ea786e9b11">getBatLevel</a> ()</td></tr>
<tr class="memdesc:a14b5f26e2ea4e4c247dc26ea786e9b11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the current capacity of the battery using predetermined minimum and maximum charge values.  <br /></td></tr>
<tr class="separator:a14b5f26e2ea4e4c247dc26ea786e9b11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70ff0abbdc7d6bd7b82553d2037889fd" id="r_a70ff0abbdc7d6bd7b82553d2037889fd"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a70ff0abbdc7d6bd7b82553d2037889fd">getInputSpeed</a> ()</td></tr>
<tr class="memdesc:a70ff0abbdc7d6bd7b82553d2037889fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the percentage power represented by the inputted ADC value from the potentiometer.  <br /></td></tr>
<tr class="separator:a70ff0abbdc7d6bd7b82553d2037889fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e74d3c55ba6d356cd90823775f2d664" id="r_a5e74d3c55ba6d356cd90823775f2d664"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a5e74d3c55ba6d356cd90823775f2d664">getRPM</a> ()</td></tr>
<tr class="memdesc:a5e74d3c55ba6d356cd90823775f2d664"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses a 1 second timer to extrapolate the revolutions per minute.  <br /></td></tr>
<tr class="separator:a5e74d3c55ba6d356cd90823775f2d664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b614e0add50e5ae36d208fe910f90c6" id="r_a0b614e0add50e5ae36d208fe910f90c6"><td class="memItemLeft" align="right" valign="top"><a id="a0b614e0add50e5ae36d208fe910f90c6" name="a0b614e0add50e5ae36d208fe910f90c6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>enableMSC</b> ()</td></tr>
<tr class="separator:a0b614e0add50e5ae36d208fe910f90c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae995a6024db644fcec928354bc4f5f67" id="r_ae995a6024db644fcec928354bc4f5f67"><td class="memItemLeft" align="right" valign="top"><a id="ae995a6024db644fcec928354bc4f5f67" name="ae995a6024db644fcec928354bc4f5f67"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>disableMSC</b> ()</td></tr>
<tr class="separator:ae995a6024db644fcec928354bc4f5f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64461563174d034ff94d443f2c172622" id="r_a64461563174d034ff94d443f2c172622"><td class="memItemLeft" align="right" valign="top"><a id="a64461563174d034ff94d443f2c172622" name="a64461563174d034ff94d443f2c172622"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>testingSuite</b> ()</td></tr>
<tr class="separator:a64461563174d034ff94d443f2c172622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4765141d8281f1873714923a260f93fc" id="r_a4765141d8281f1873714923a260f93fc"><td class="memItemLeft" align="right" valign="top"><a id="a4765141d8281f1873714923a260f93fc" name="a4765141d8281f1873714923a260f93fc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>testMSC</b> ()</td></tr>
<tr class="separator:a4765141d8281f1873714923a260f93fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada5a15c76153823533f203632f7d1d62" id="r_ada5a15c76153823533f203632f7d1d62"><td class="memItemLeft" align="right" valign="top"><a id="ada5a15c76153823533f203632f7d1d62" name="ada5a15c76153823533f203632f7d1d62"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>testSD</b> ()</td></tr>
<tr class="separator:ada5a15c76153823533f203632f7d1d62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68ec483eb29785695a1b3b255b3dc8b9" id="r_a68ec483eb29785695a1b3b255b3dc8b9"><td class="memItemLeft" align="right" valign="top"><a id="a68ec483eb29785695a1b3b255b3dc8b9" name="a68ec483eb29785695a1b3b255b3dc8b9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>testPins</b> ()</td></tr>
<tr class="separator:a68ec483eb29785695a1b3b255b3dc8b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af70581e416f69b14c5a0bc5e4918b479" id="r_af70581e416f69b14c5a0bc5e4918b479"><td class="memItemLeft" align="right" valign="top"><a id="af70581e416f69b14c5a0bc5e4918b479" name="af70581e416f69b14c5a0bc5e4918b479"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>gpio_ISR</b> (uint gpio, uint32_t events)</td></tr>
<tr class="separator:af70581e416f69b14c5a0bc5e4918b479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4" id="r_ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top"><a id="ae66f6b31b5ad750f1fe042a706a4e3d4" name="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>main</b> ()</td></tr>
<tr class="separator:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a92c826e08ae550b58a56ea3f55c49311" id="r_a92c826e08ae550b58a56ea3f55c49311"><td class="memItemLeft" align="right" valign="top"><a id="a92c826e08ae550b58a56ea3f55c49311" name="a92c826e08ae550b58a56ea3f55c49311"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>fwRev</b> = 50</td></tr>
<tr class="memdesc:a92c826e08ae550b58a56ea3f55c49311"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the max forward revolutions of the device from start position. Current ratio of (revolutions : distance) = (2 : 1) <br /></td></tr>
<tr class="separator:a92c826e08ae550b58a56ea3f55c49311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5988591b58aabf7567019b975da7e7aa" id="r_a5988591b58aabf7567019b975da7e7aa"><td class="memItemLeft" align="right" valign="top"><a id="a5988591b58aabf7567019b975da7e7aa" name="a5988591b58aabf7567019b975da7e7aa"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>bwRev</b> = 0</td></tr>
<tr class="memdesc:a5988591b58aabf7567019b975da7e7aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the max backwards revolutions of the device from start position. Current ratio of (revolutions : distance) = (2 : 1) <br /></td></tr>
<tr class="separator:a5988591b58aabf7567019b975da7e7aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03de839a9debec4f2265023b765444ad" id="r_a03de839a9debec4f2265023b765444ad"><td class="memItemLeft" align="right" valign="top"><a id="a03de839a9debec4f2265023b765444ad" name="a03de839a9debec4f2265023b765444ad"></a>
ssd1306_t&#160;</td><td class="memItemRight" valign="bottom"><b>oled</b></td></tr>
<tr class="separator:a03de839a9debec4f2265023b765444ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fef9435f436bfd601806a7a0bef54bb" id="r_a1fef9435f436bfd601806a7a0bef54bb"><td class="memItemLeft" align="right" valign="top"><a id="a1fef9435f436bfd601806a7a0bef54bb" name="a1fef9435f436bfd601806a7a0bef54bb"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>speed_lvl</b> = 0</td></tr>
<tr class="separator:a1fef9435f436bfd601806a7a0bef54bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af04968100075345ffc60b9ffe62b4c9c" id="r_af04968100075345ffc60b9ffe62b4c9c"><td class="memItemLeft" align="right" valign="top"><a id="af04968100075345ffc60b9ffe62b4c9c" name="af04968100075345ffc60b9ffe62b4c9c"></a>
long&#160;</td><td class="memItemRight" valign="bottom"><b>temp_speed</b> = 0</td></tr>
<tr class="separator:af04968100075345ffc60b9ffe62b4c9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e2ce6f76284e4e63fab85506c67907b" id="r_a3e2ce6f76284e4e63fab85506c67907b"><td class="memItemLeft" align="right" valign="top"><a id="a3e2ce6f76284e4e63fab85506c67907b" name="a3e2ce6f76284e4e63fab85506c67907b"></a>
long&#160;</td><td class="memItemRight" valign="bottom"><b>bat_per</b> = 0</td></tr>
<tr class="separator:a3e2ce6f76284e4e63fab85506c67907b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad43c3812e6d13e0518d9f8b8f463ffcf" id="r_ad43c3812e6d13e0518d9f8b8f463ffcf"><td class="memItemLeft" align="right" valign="top"><a id="ad43c3812e6d13e0518d9f8b8f463ffcf" name="ad43c3812e6d13e0518d9f8b8f463ffcf"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>count</b> = 0</td></tr>
<tr class="separator:ad43c3812e6d13e0518d9f8b8f463ffcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6f130727d2275823bd3040581e801a5" id="r_ac6f130727d2275823bd3040581e801a5"><td class="memItemLeft" align="right" valign="top"><a id="ac6f130727d2275823bd3040581e801a5" name="ac6f130727d2275823bd3040581e801a5"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>numPulses</b> = 0</td></tr>
<tr class="separator:ac6f130727d2275823bd3040581e801a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1f37897ed52586bce688beb5be8f50e" id="r_ae1f37897ed52586bce688beb5be8f50e"><td class="memItemLeft" align="right" valign="top"><a id="ae1f37897ed52586bce688beb5be8f50e" name="ae1f37897ed52586bce688beb5be8f50e"></a>
absolute_time_t&#160;</td><td class="memItemRight" valign="bottom"><b>now</b> = get_absolute_time()</td></tr>
<tr class="separator:ae1f37897ed52586bce688beb5be8f50e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a597777ddfcfc40b6553d91789dfd343f" id="r_a597777ddfcfc40b6553d91789dfd343f"><td class="memItemLeft" align="right" valign="top"><a id="a597777ddfcfc40b6553d91789dfd343f" name="a597777ddfcfc40b6553d91789dfd343f"></a>
absolute_time_t&#160;</td><td class="memItemRight" valign="bottom"><b>prevTime</b> = get_absolute_time()</td></tr>
<tr class="separator:a597777ddfcfc40b6553d91789dfd343f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5a5c46842ef8862d2ccd9e7bd3aec63" id="r_ad5a5c46842ef8862d2ccd9e7bd3aec63"><td class="memItemLeft" align="right" valign="top"><a id="ad5a5c46842ef8862d2ccd9e7bd3aec63" name="ad5a5c46842ef8862d2ccd9e7bd3aec63"></a>
absolute_time_t&#160;</td><td class="memItemRight" valign="bottom"><b>pressTime</b> = get_absolute_time()</td></tr>
<tr class="separator:ad5a5c46842ef8862d2ccd9e7bd3aec63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a029fea14c173ec8d34f33c8594b95db0" id="r_a029fea14c173ec8d34f33c8594b95db0"><td class="memItemLeft" align="right" valign="top"><a id="a029fea14c173ec8d34f33c8594b95db0" name="a029fea14c173ec8d34f33c8594b95db0"></a>
absolute_time_t&#160;</td><td class="memItemRight" valign="bottom"><b>pressedTime</b> = get_absolute_time()</td></tr>
<tr class="separator:a029fea14c173ec8d34f33c8594b95db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6564e8259eebddb283f25451cd7fd364" id="r_a6564e8259eebddb283f25451cd7fd364"><td class="memItemLeft" align="right" valign="top"><a id="a6564e8259eebddb283f25451cd7fd364" name="a6564e8259eebddb283f25451cd7fd364"></a>
absolute_time_t&#160;</td><td class="memItemRight" valign="bottom"><b>mscPressTime</b> = get_absolute_time()</td></tr>
<tr class="separator:a6564e8259eebddb283f25451cd7fd364"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25e39b399c2a11f0d76e42ab8241a910" id="r_a25e39b399c2a11f0d76e42ab8241a910"><td class="memItemLeft" align="right" valign="top"><a id="a25e39b399c2a11f0d76e42ab8241a910" name="a25e39b399c2a11f0d76e42ab8241a910"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>rpm</b> = 0</td></tr>
<tr class="separator:a25e39b399c2a11f0d76e42ab8241a910"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7d2f7d0c2e8d8f3a6428b8225202ea3" id="r_aa7d2f7d0c2e8d8f3a6428b8225202ea3"><td class="memItemLeft" align="right" valign="top"><a id="aa7d2f7d0c2e8d8f3a6428b8225202ea3" name="aa7d2f7d0c2e8d8f3a6428b8225202ea3"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>current_mA</b> = 0</td></tr>
<tr class="separator:aa7d2f7d0c2e8d8f3a6428b8225202ea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0952eff2667e5af2b307ba4f6d0b06b" id="r_ad0952eff2667e5af2b307ba4f6d0b06b"><td class="memItemLeft" align="right" valign="top"><a id="ad0952eff2667e5af2b307ba4f6d0b06b" name="ad0952eff2667e5af2b307ba4f6d0b06b"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>force</b> = 0</td></tr>
<tr class="separator:ad0952eff2667e5af2b307ba4f6d0b06b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d4a56445e448ecc3a9c7143fe0c832" id="r_a23d4a56445e448ecc3a9c7143fe0c832"><td class="memItemLeft" align="right" valign="top"><a id="a23d4a56445e448ecc3a9c7143fe0c832" name="a23d4a56445e448ecc3a9c7143fe0c832"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>displacement</b> = 0</td></tr>
<tr class="separator:a23d4a56445e448ecc3a9c7143fe0c832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5f7a9c2f3b2608343ddf46bcfcac2c2" id="r_ad5f7a9c2f3b2608343ddf46bcfcac2c2"><td class="memItemLeft" align="right" valign="top"><a id="ad5f7a9c2f3b2608343ddf46bcfcac2c2" name="ad5f7a9c2f3b2608343ddf46bcfcac2c2"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>lp_current</b> = 0</td></tr>
<tr class="separator:ad5f7a9c2f3b2608343ddf46bcfcac2c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37794ae42b6a8116fa24f997b634dba9" id="r_a37794ae42b6a8116fa24f997b634dba9"><td class="memItemLeft" align="right" valign="top"><a id="a37794ae42b6a8116fa24f997b634dba9" name="a37794ae42b6a8116fa24f997b634dba9"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>MAF</b> [<a class="el" href="main_8cpp.html#a6af9f0d27369b3f4a063f61c51c198f3">MAF_SZ</a>] = {0}</td></tr>
<tr class="separator:a37794ae42b6a8116fa24f997b634dba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a891ae364a9c7853fd67cdb10cfc870c8" id="r_a891ae364a9c7853fd67cdb10cfc870c8"><td class="memItemLeft" align="right" valign="top"><a id="a891ae364a9c7853fd67cdb10cfc870c8" name="a891ae364a9c7853fd67cdb10cfc870c8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>MAF_counter</b> = 0</td></tr>
<tr class="separator:a891ae364a9c7853fd67cdb10cfc870c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef72076a36ad8bc9405e594d784e040b" id="r_aef72076a36ad8bc9405e594d784e040b"><td class="memItemLeft" align="right" valign="top"><a id="aef72076a36ad8bc9405e594d784e040b" name="aef72076a36ad8bc9405e594d784e040b"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>MAF_sum</b> = 0</td></tr>
<tr class="separator:aef72076a36ad8bc9405e594d784e040b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7597a58fd0a9415759b81dffee974e6" id="r_ac7597a58fd0a9415759b81dffee974e6"><td class="memItemLeft" align="right" valign="top"><a id="ac7597a58fd0a9415759b81dffee974e6" name="ac7597a58fd0a9415759b81dffee974e6"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>slice</b></td></tr>
<tr class="memdesc:ac7597a58fd0a9415759b81dffee974e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global slice value for the PWM module. Automatically determined by chosen pin at runtime. Corresponds to the organization of PWM configurations by clock. Please see RP2040 documentation. <br /></td></tr>
<tr class="separator:ac7597a58fd0a9415759b81dffee974e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23777d4d3d69af11916d27e48261cfb1" id="r_a23777d4d3d69af11916d27e48261cfb1"><td class="memItemLeft" align="right" valign="top"><a id="a23777d4d3d69af11916d27e48261cfb1" name="a23777d4d3d69af11916d27e48261cfb1"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>channel</b></td></tr>
<tr class="memdesc:a23777d4d3d69af11916d27e48261cfb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global channel value for the PWM module. Automatically determined by chosen pin at runtime. Corresponds to PWM output pin itself. Please see RP2040 documentation. <br /></td></tr>
<tr class="separator:a23777d4d3d69af11916d27e48261cfb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0799c2e54cccc1be7e9b4a1a9fa780c" id="r_ac0799c2e54cccc1be7e9b4a1a9fa780c"><td class="memItemLeft" align="right" valign="top"><a id="ac0799c2e54cccc1be7e9b4a1a9fa780c" name="ac0799c2e54cccc1be7e9b4a1a9fa780c"></a>
absolute_time_t&#160;</td><td class="memItemRight" valign="bottom"><b>prevBug</b> = get_absolute_time()</td></tr>
<tr class="separator:ac0799c2e54cccc1be7e9b4a1a9fa780c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21215ef0aca60874669e1e2f7425e70c" id="r_a21215ef0aca60874669e1e2f7425e70c"><td class="memItemLeft" align="right" valign="top"><a id="a21215ef0aca60874669e1e2f7425e70c" name="a21215ef0aca60874669e1e2f7425e70c"></a>
absolute_time_t&#160;</td><td class="memItemRight" valign="bottom"><b>currBug</b> = get_absolute_time()</td></tr>
<tr class="separator:a21215ef0aca60874669e1e2f7425e70c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d24a7e8ef01eb2683901eb25396beed" id="r_a0d24a7e8ef01eb2683901eb25396beed"><td class="memItemLeft" align="right" valign="top"><a id="a0d24a7e8ef01eb2683901eb25396beed" name="a0d24a7e8ef01eb2683901eb25396beed"></a>
volatile bool&#160;</td><td class="memItemRight" valign="bottom"><b>motor_flag</b> = false</td></tr>
<tr class="separator:a0d24a7e8ef01eb2683901eb25396beed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae964ac24618b7c245998d37cdd06acd3" id="r_ae964ac24618b7c245998d37cdd06acd3"><td class="memItemLeft" align="right" valign="top"><a id="ae964ac24618b7c245998d37cdd06acd3" name="ae964ac24618b7c245998d37cdd06acd3"></a>
volatile bool&#160;</td><td class="memItemRight" valign="bottom"><b>button_press_flag</b> = false</td></tr>
<tr class="separator:ae964ac24618b7c245998d37cdd06acd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a548278ea37054952a50f6ef9ce6413ce" id="r_a548278ea37054952a50f6ef9ce6413ce"><td class="memItemLeft" align="right" valign="top"><a id="a548278ea37054952a50f6ef9ce6413ce" name="a548278ea37054952a50f6ef9ce6413ce"></a>
volatile bool&#160;</td><td class="memItemRight" valign="bottom"><b>button_release_flag</b> = false</td></tr>
<tr class="separator:a548278ea37054952a50f6ef9ce6413ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a268172ec6be901b1e9c5f4212cee806b" id="r_a268172ec6be901b1e9c5f4212cee806b"><td class="memItemLeft" align="right" valign="top"><a id="a268172ec6be901b1e9c5f4212cee806b" name="a268172ec6be901b1e9c5f4212cee806b"></a>
volatile bool&#160;</td><td class="memItemRight" valign="bottom"><b>button_msc_flag</b> = false</td></tr>
<tr class="separator:a268172ec6be901b1e9c5f4212cee806b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5af4859884ea5c925366abfbdb0ef8f" id="r_ad5af4859884ea5c925366abfbdb0ef8f"><td class="memItemLeft" align="right" valign="top"><a id="ad5af4859884ea5c925366abfbdb0ef8f" name="ad5af4859884ea5c925366abfbdb0ef8f"></a>
FATFS&#160;</td><td class="memItemRight" valign="bottom"><b>filesys</b></td></tr>
<tr class="separator:ad5af4859884ea5c925366abfbdb0ef8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4be63952e3c9cb0f46f9e592b3c78714" id="r_a4be63952e3c9cb0f46f9e592b3c78714"><td class="memItemLeft" align="right" valign="top"><a id="a4be63952e3c9cb0f46f9e592b3c78714" name="a4be63952e3c9cb0f46f9e592b3c78714"></a>
FIL&#160;</td><td class="memItemRight" valign="bottom"><b>fil</b></td></tr>
<tr class="separator:a4be63952e3c9cb0f46f9e592b3c78714"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1e3ee7820c8f54b680f492ef5c0d1ed" id="r_ab1e3ee7820c8f54b680f492ef5c0d1ed"><td class="memItemLeft" align="right" valign="top"><a id="ab1e3ee7820c8f54b680f492ef5c0d1ed" name="ab1e3ee7820c8f54b680f492ef5c0d1ed"></a>
TCHAR&#160;</td><td class="memItemRight" valign="bottom"><b>filename</b> [20] = &quot;data0.csv\0&quot;</td></tr>
<tr class="separator:ab1e3ee7820c8f54b680f492ef5c0d1ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a434ef2e67e7d14c2f6a753c08a5eae49" id="r_a434ef2e67e7d14c2f6a753c08a5eae49"><td class="memItemLeft" align="right" valign="top"><a id="a434ef2e67e7d14c2f6a753c08a5eae49" name="a434ef2e67e7d14c2f6a753c08a5eae49"></a>
enum states state&#160;</td><td class="memItemRight" valign="bottom"><b>nextState</b></td></tr>
<tr class="separator:a434ef2e67e7d14c2f6a753c08a5eae49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accd9653a1b3ee09644723877d2aa36e1" id="r_accd9653a1b3ee09644723877d2aa36e1"><td class="memItemLeft" align="right" valign="top"><a id="accd9653a1b3ee09644723877d2aa36e1" name="accd9653a1b3ee09644723877d2aa36e1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>validPress</b> = false</td></tr>
<tr class="separator:accd9653a1b3ee09644723877d2aa36e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is the main file for the smart biopsy needle. It handles the high level operation of the state machine, sensors, motors, and display. If onboarding, LOOK AT THIS FILE FIRST. Close all pragma regions and just try to understand the main function. </p>
<dl class="section author"><dt>Author</dt><dd>Thomas Chang </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2025-04-30</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2025 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a9ea220abd9e6d180734b3b2bc0750f89" name="a9ea220abd9e6d180734b3b2bc0750f89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ea220abd9e6d180734b3b2bc0750f89">&#9670;&#160;</a></span>displayBat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void displayBat </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y_pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function used to display calculated battery capacity value on OLED. </p>
<p>When below the 0 threshold, will display LO on the screen. Automatically adjusts depending on if 3 digits are required. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">y_pos</td><td>The y position in pixels (bottom left) of where the text is written. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a77605eb86157d0b0194fc72a25738a22" name="a77605eb86157d0b0194fc72a25738a22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77605eb86157d0b0194fc72a25738a22">&#9670;&#160;</a></span>displayInputSpeed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void displayInputSpeed </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y_pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function used to abstract how potentiometer input information is shown on the OLED screen. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">y_pos</td><td>The y position in pixels (bottom left) of where the text is written. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a14b5f26e2ea4e4c247dc26ea786e9b11" name="a14b5f26e2ea4e4c247dc26ea786e9b11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14b5f26e2ea4e4c247dc26ea786e9b11">&#9670;&#160;</a></span>getBatLevel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float getBatLevel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the current capacity of the battery using predetermined minimum and maximum charge values. </p>
<p>Relies on ADC averaging and makes calculations based on battery voltage. </p><dl class="section return"><dt>Returns</dt><dd>float </dd></dl>

</div>
</div>
<a id="a70ff0abbdc7d6bd7b82553d2037889fd" name="a70ff0abbdc7d6bd7b82553d2037889fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70ff0abbdc7d6bd7b82553d2037889fd">&#9670;&#160;</a></span>getInputSpeed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long getInputSpeed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the percentage power represented by the inputted ADC value from the potentiometer. </p>
<dl class="section return"><dt>Returns</dt><dd>long </dd></dl>

</div>
</div>
<a id="a5e74d3c55ba6d356cd90823775f2d664" name="a5e74d3c55ba6d356cd90823775f2d664"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e74d3c55ba6d356cd90823775f2d664">&#9670;&#160;</a></span>getRPM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getRPM </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uses a 1 second timer to extrapolate the revolutions per minute. </p>
<p>Determines the number of revolutions that occur within a second and multiplies it by 60. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
