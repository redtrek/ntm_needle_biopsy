\doxysection{/home/redtrek/\+NTM/ntm\+\_\+needle\+\_\+biopsy/code/biopsy\+\_\+needle/src/ntm\+\_\+helpers.cpp File Reference}
\hypertarget{ntm__helpers_8cpp}{}\label{ntm__helpers_8cpp}\index{/home/redtrek/NTM/ntm\_needle\_biopsy/code/biopsy\_needle/src/ntm\_helpers.cpp@{/home/redtrek/NTM/ntm\_needle\_biopsy/code/biopsy\_needle/src/ntm\_helpers.cpp}}


This file holds the definitions for the smart needle\textquotesingle{}s helper functions.  


{\ttfamily \#include "{}include/ntm\+\_\+helpers.\+h"{}}\newline
Include dependency graph for ntm\+\_\+helpers.\+cpp\+:
% FIG 0
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{ntm__helpers_8cpp_a8c6d7458362f0a1d72f048e5c28dafc9}\label{ntm__helpers_8cpp_a8c6d7458362f0a1d72f048e5c28dafc9} 
void {\bfseries board\+\_\+gpio\+\_\+init} ()
\begin{DoxyCompactList}\small\item\em Initiates all GPIO pins as well as communication protocols. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ntm__helpers_8cpp_a1a668d0f88bcacc451fca6bf25511b62}{set\+Motor}} (bool direction, uint16\+\_\+t power)
\begin{DoxyCompactList}\small\item\em Turns on motor with configureable speed and direction values. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{ntm__helpers_8cpp_a42ebef78c974c5dd10ee53b6bea5ac07}{display\+Data}} (ssd1306\+\_\+t \texorpdfstring{$\ast$}{*}screen, int y\+\_\+pos, float data, std\+::string info)
\begin{DoxyCompactList}\small\item\em Helper function used to abstract how sensor data is shown on the OLED screen. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{ntm__helpers_8cpp_a8b0e682ac7928c7d2592cb80a81a2874}{get\+Revolutions}} (int count)
\begin{DoxyCompactList}\small\item\em Takes detected motor signals and converts them to the real-\/world number of revolutions of the motor shaft. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{ntm__helpers_8cpp_ac7597a58fd0a9415759b81dffee974e6}\label{ntm__helpers_8cpp_ac7597a58fd0a9415759b81dffee974e6} 
uint {\bfseries slice} = pwm\+\_\+gpio\+\_\+to\+\_\+slice\+\_\+num(MOTOR\+\_\+\+PWM)
\begin{DoxyCompactList}\small\item\em Global slice value for the PWM module. Automatically determined by chosen pin at runtime. Corresponds to the organization of PWM configurations by clock. Please see RP2040 documentation. \end{DoxyCompactList}\item 
\Hypertarget{ntm__helpers_8cpp_a23777d4d3d69af11916d27e48261cfb1}\label{ntm__helpers_8cpp_a23777d4d3d69af11916d27e48261cfb1} 
uint {\bfseries channel} = pwm\+\_\+gpio\+\_\+to\+\_\+channel(MOTOR\+\_\+\+PWM)
\begin{DoxyCompactList}\small\item\em Global channel value for the PWM module. Automatically determined by chosen pin at runtime. Corresponds to PWM output pin itself. Please see RP2040 documentation. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This file holds the definitions for the smart needle\textquotesingle{}s helper functions. 

\begin{DoxyAuthor}{Author}
Thomas Chang 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}
\begin{DoxyDate}{Date}
2025-\/05-\/06
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
Copyright (c) 2025 
\end{DoxyCopyright}


\doxysubsection{Function Documentation}
\Hypertarget{ntm__helpers_8cpp_a42ebef78c974c5dd10ee53b6bea5ac07}\label{ntm__helpers_8cpp_a42ebef78c974c5dd10ee53b6bea5ac07} 
\index{ntm\_helpers.cpp@{ntm\_helpers.cpp}!displayData@{displayData}}
\index{displayData@{displayData}!ntm\_helpers.cpp@{ntm\_helpers.cpp}}
\doxysubsubsection{\texorpdfstring{displayData()}{displayData()}}
{\footnotesize\ttfamily void display\+Data (\begin{DoxyParamCaption}\item[{ssd1306\+\_\+t \texorpdfstring{$\ast$}{*}}]{screen,  }\item[{int}]{y\+\_\+pos,  }\item[{float}]{data,  }\item[{std\+::string}]{info }\end{DoxyParamCaption})}



Helper function used to abstract how sensor data is shown on the OLED screen. 


\begin{DoxyParams}{Parameters}
{\em screen} & OLED object representing the actual screen in firmware. \\
\hline
{\em y\+\_\+pos} & The y position in pixels (bottom left) of where the text is written. \\
\hline
{\em data} & The actual sensor information. \\
\hline
{\em info} & Any string messages detailing what the sensor information is measuring. \\
\hline
\end{DoxyParams}
\Hypertarget{ntm__helpers_8cpp_a8b0e682ac7928c7d2592cb80a81a2874}\label{ntm__helpers_8cpp_a8b0e682ac7928c7d2592cb80a81a2874} 
\index{ntm\_helpers.cpp@{ntm\_helpers.cpp}!getRevolutions@{getRevolutions}}
\index{getRevolutions@{getRevolutions}!ntm\_helpers.cpp@{ntm\_helpers.cpp}}
\doxysubsubsection{\texorpdfstring{getRevolutions()}{getRevolutions()}}
{\footnotesize\ttfamily float get\+Revolutions (\begin{DoxyParamCaption}\item[{int}]{count }\end{DoxyParamCaption})}



Takes detected motor signals and converts them to the real-\/world number of revolutions of the motor shaft. 

The conversion is as follows\+: number\+\_\+of\+\_\+counts \texorpdfstring{$\ast$}{*} (1 small revolution / 12 counts) \texorpdfstring{$\ast$}{*} (1 big revolution / 34.\+014 small revolutions). 34.\+014 is the gear ratio whilst the (small revolutions / counts) is from the motor documentation. 
\begin{DoxyParams}{Parameters}
{\em count} & Number of signal edges recieved from motor (see quadrature encoder information in motor documentation). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
float 
\end{DoxyReturn}
\Hypertarget{ntm__helpers_8cpp_a1a668d0f88bcacc451fca6bf25511b62}\label{ntm__helpers_8cpp_a1a668d0f88bcacc451fca6bf25511b62} 
\index{ntm\_helpers.cpp@{ntm\_helpers.cpp}!setMotor@{setMotor}}
\index{setMotor@{setMotor}!ntm\_helpers.cpp@{ntm\_helpers.cpp}}
\doxysubsubsection{\texorpdfstring{setMotor()}{setMotor()}}
{\footnotesize\ttfamily void set\+Motor (\begin{DoxyParamCaption}\item[{bool}]{direction,  }\item[{uint16\+\_\+t}]{power }\end{DoxyParamCaption})}



Turns on motor with configureable speed and direction values. 


\begin{DoxyParams}{Parameters}
{\em direction} & Integer value where 1 means forward and 0 means backward. \\
\hline
{\em power} & Integer value representing power of the motor ranging from 0-\/255 where 255 is the maximum. \\
\hline
\end{DoxyParams}
